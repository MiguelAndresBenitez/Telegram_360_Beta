================================================================================
ğŸ—‘ï¸  ARCHIVOS A ELIMINAR PARA INSTALACIÃ“N NATIVA
================================================================================

Cuando despliegues en CloudPanel (nativo, sin Docker), elimina:

================================================================================
NIVEL 1: ELIMINAR INMEDIATAMENTE (Imprescindible)
================================================================================

âŒ ARCHIVOS DOCKER - No usamos Docker

docker-compose.yml          # OrquestaciÃ³n de contenedores
docker-compose.prod.yml     # ConfiguraciÃ³n de producciÃ³n Docker
docker-compose.vps.yml      # ConfiguraciÃ³n VPS Docker
Dockerfile                  # Imagen principal
telegram-workers/Dockerfile # Workers Docker
plataforma_canales_back-main/Dockerfile  # Backend Docker

âŒ ARCHIVOS GIT - No subimos .git

.git/                       # Repositorio git completo
.gitignore                  # Reglas de git
.github/                    # Workflows de GitHub

Comando para eliminar:

rm -rf .git .github docker-compose*.yml plataforma_canales_back-main/Dockerfile telegram-workers/Dockerfile

================================================================================
NIVEL 2: ELIMINAR PARA PRODUCCIÃ“N (Recomendado)
================================================================================

âŒ ARCHIVOS DE CACHÃ‰ Y COMPILACIÃ“N

node_modules/               # Dependencias npm (se instalarÃ¡n en servidor)
dashboard/dist/             # Frontend compilado (se generarÃ¡ en servidor)
__pycache__/                # CachÃ© Python
*.pyc                       # Archivos compilados Python
.pytest_cache/              # CachÃ© de pytest

Comando:

find . -type d -name node_modules -exec rm -rf {} + 2>/dev/null || true
find . -type d -name __pycache__ -exec rm -rf {} + 2>/dev/null || true
find . -type d -name .pytest_cache -exec rm -rf {} + 2>/dev/null || true
find . -type f -name "*.pyc" -delete 2>/dev/null || true
rm -rf dashboard/dist

âŒ ARCHIVOS SENSIBLES

.env                        # Archivo local (no subir)
.env.local                  # Variables locales
.env.prod                   # NUNCA subir credenciales reales
.env.dev                    # ConfiguraciÃ³n de desarrollo
*.session                   # Sesiones de Telethon (generarlas en servidor)
plataforma_session.session  # SesiÃ³n principal Telegram
plataforma_session_invite.session
plataforma_session_metrics.session

Comando:

rm -f .env .env.* *.session telegram-workers/**/*.session

âš ï¸  Importante: Usar .env.prod.example como template

================================================================================
NIVEL 3: ELIMINAR PARA MINIMIZAR TAMAÃ‘O (Opcional)
================================================================================

âŒ ARCHIVOS DE DESARROLLO

.venv/                      # Virtual environment local
venv/                       # Otro nombre de venv
env/                        # Otro nombre de env
.idea/                      # IDE settings
.vscode/                    # VS Code settings
*.log                       # Archivos de log locales
.DS_Store                   # macOS
Thumbs.db                   # Windows

âŒ ARCHIVOS DE TEST

tests/                      # Tests unitarios (opcional)
*.test.js                   # Tests JavaScript
test_*.py                   # Tests Python
*_test.py

âŒ DOCUMENTACIÃ“N LOCAL

docs/                       # DocumentaciÃ³n local (opcional)
*.md                        # Excepto README.md

Comando:

rm -rf .venv venv env .idea .vscode tests *.log .DS_Store Thumbs.db

================================================================================
SCRIPT COMPLETO - LIMPIAR TODO
================================================================================

Copia y pega en el servidor o mÃ¡quina local:

#!/bin/bash

echo "ğŸ§¹ Limpiando archivos innecesarios..."

# Nivel 1: Docker y Git
rm -rf .git .github docker-compose*.yml 
find . -name "Dockerfile*" -delete

# Nivel 2: CachÃ© y compilaciÃ³n
find . -type d -name node_modules -exec rm -rf {} + 2>/dev/null || true
find . -type d -name __pycache__ -exec rm -rf {} + 2>/dev/null || true
find . -type f -name "*.pyc" -delete 2>/dev/null || true
rm -rf dashboard/dist

# Nivel 2: Archivos sensibles
rm -f .env .env.* *.session telegram-workers/**/*.session

# Nivel 3: Desarrollo
rm -rf .venv venv env .idea .vscode tests *.log .DS_Store Thumbs.db

echo "âœ… Limpieza completada"
du -sh .

================================================================================
ESTRUCTURA FINAL ESPERADA
================================================================================

telegram_360/
â”œâ”€â”€ README_INSTALACION.txt        âœ“ Guardar
â”œâ”€â”€ INSTALLATION_NATIVE.txt        âœ“ Guardar
â”œâ”€â”€ TELETHON_SETUP.txt             âœ“ Guardar
â”œâ”€â”€ CLIENT_CONFIGURATION.txt       âœ“ Guardar
â”œâ”€â”€ install-native.sh              âœ“ Guardar
â”œâ”€â”€ .env.prod.example              âœ“ Guardar
â”‚
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ package.json               âœ“ Guardar
â”‚   â”œâ”€â”€ vite.config.ts             âœ“ Guardar
â”‚   â”œâ”€â”€ src/                       âœ“ Guardar
â”‚   â””â”€â”€ dist/                      âŒ Eliminar (se genera)
â”‚
â”œâ”€â”€ plataforma_canales_back-main/
â”‚   â”œâ”€â”€ requirements.txt           âœ“ Guardar
â”‚   â”œâ”€â”€ routes.py                  âœ“ Guardar
â”‚   â”œâ”€â”€ models.py                  âœ“ Guardar
â”‚   â””â”€â”€ __pycache__/               âŒ Eliminar
â”‚
â”œâ”€â”€ telegram-workers/
â”‚   â”œâ”€â”€ workers/                   âœ“ Guardar
â”‚   â”œâ”€â”€ requirements.txt           âœ“ Guardar
â”‚   â””â”€â”€ *.session                  âŒ Eliminar
â”‚
â”œâ”€â”€ deploy/
â”‚   â”œâ”€â”€ nginx_native.conf          âœ“ Guardar (Nueva)
â”‚   â”œâ”€â”€ supervisord_native.conf    âœ“ Guardar (Nueva)
â”‚   â”œâ”€â”€ README.md                  âœ“ Guardar
â”‚   â””â”€â”€ nginx.conf                 âš ï¸  Opcional
â”‚
â”œâ”€â”€ medios_pago/                   âš ï¸  Si aplica (opcional)
â”‚
â””â”€â”€ Archivos a ELIMINAR:
    âŒ docker-compose.yml
    âŒ docker-compose.prod.yml
    âŒ docker-compose.vps.yml
    âŒ .git/
    âŒ .github/
    âŒ node_modules/
    âŒ *.session
    âŒ .env (excepto .env.prod.example)

================================================================================
TAMAÃ‘O ESPERADO DEL PROYECTO LIMPIO
================================================================================

Con todo limpio, el proyecto debe ocupar:

Sin Docker files:                  ~5-10 MB
Con archivos compilados (node_modules): ~200-300 MB

Para servidor: Copiar sin node_modules (~5-10 MB)
Luego instalar en servidor: npm ci (~200-300 MB)

================================================================================
CREAR ZIP PARA SERVIDOR (Opcional)
================================================================================

Desde tu mÃ¡quina local:

cd /path/to/telegram_360
bash limpiar-archivos.sh    # Script anterior

cd ..
zip -r telegram_360_deploy.zip telegram_360/ \
    -x "telegram_360/.git/*" \
    "telegram_360/node_modules/*" \
    "telegram_360/dashboard/dist/*" \
    "telegram_360/**/__pycache__/*" \
    "telegram_360/**/*.pyc" \
    "telegram_360/*.session" \
    "telegram_360/.env*" \
    "telegram_360/.vscode/*" \
    "telegram_360/.idea/*"

# ZIP resultante: ~10-15 MB

================================================================================
VERIFICACIÃ“N ANTES DE DESPLEGAR
================================================================================

Checklist final antes de copiar al servidor:

[ ] No hay archivos .git/
[ ] No hay .env (excepto .env.prod.example)
[ ] No hay node_modules/
[ ] No hay *.session files
[ ] No hay __pycache__/
[ ] Archivos .sh son ejecutables (chmod +x)
[ ] Todos los archivos en deploy/ existen
[ ] .env.prod.example tiene placeholders
[ ] README_INSTALACION.txt estÃ¡ presente
[ ] install-native.sh estÃ¡ presente

Verificar tamaÃ±o:

du -sh telegram_360/    # Debe ser < 50 MB

================================================================================
COMANDOS RÃPIDOS
================================================================================

# Ver tamaÃ±o actual
du -sh /ruta/telegram_360

# Ver archivos grandes
find /ruta/telegram_360 -type f -size +10M

# Encontrar archivos .session
find /ruta/telegram_360 -name "*.session"

# Encontrar .env files
find /ruta/telegram_360 -name ".env*"

# Encontrar .git
find /ruta/telegram_360 -type d -name ".git"

# Contar archivos
find /ruta/telegram_360 -type f | wc -l

# Comprimir final
tar -czf telegram_360.tar.gz --exclude='.git' --exclude='node_modules' --exclude='__pycache__' /ruta/telegram_360

================================================================================
